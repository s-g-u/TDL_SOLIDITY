"use strict";(self.webpackChunkcrowdfunding_angular=self.webpackChunkcrowdfunding_angular||[]).push([[841],{9841:(W,g,e)=>{e.r(g),e.d(g,{ccipRequest:()=>k,offchainLookup:()=>P,offchainLookupAbiItem:()=>C,offchainLookupSignature:()=>I});var L=e(467),A=e(6345),R=e(2666),l=e(9826),v=e(440);class M extends l.C{constructor({callbackSelector:s,cause:t,data:c,extraData:i,sender:d,urls:n}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",n&&["  Gateway URL(s):",...n.map(u=>`    ${(0,v.I)(u)}`)],`  Sender: ${d}`,`  Data: ${c}`,`  Callback selector: ${s}`,`  Extra data: ${i}`].flat(),name:"OffchainLookupError"})}}class S extends l.C{constructor({result:s,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,v.I)(t)}`,`Response: ${(0,R.A)(s)}`],name:"OffchainLookupResponseMalformedError"})}}class w extends l.C{constructor({sender:s,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${s}`],name:"OffchainLookupSenderMismatchError"})}}var x=e(7256),T=e(8735),$=e(1434),b=e(2866),G=e(30),D=e(7877),O=e(3165);const I="0x556f1830",C={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};function P(o,s){return h.apply(this,arguments)}function h(){return(h=(0,L.A)(function*(o,{blockNumber:s,blockTag:t,data:c,to:i}){const{args:d}=(0,T.W)({data:c,abi:[C]}),[n,u,f,a,r]=d,{ccipRead:y}=o,E=y&&"function"==typeof y?.request?y.request:k;try{if(!(0,b.h)(i,n))throw new w({sender:n,to:i});const m=u.includes(O.J)?yield(0,O.X)({data:f,ccipRequest:E}):yield E({data:f,sender:n,urls:u}),{data:j}=yield(0,A.T)(o,{blockNumber:s,blockTag:t,data:(0,G.xW)([a,(0,$.h)([{type:"bytes"},{type:"bytes"}],[m,r])]),to:i});return j}catch(m){throw new M({callbackSelector:a,cause:m,data:c,extraData:r,sender:n,urls:u})}})).apply(this,arguments)}function k(o){return p.apply(this,arguments)}function p(){return(p=(0,L.A)(function*({data:o,sender:s,urls:t}){let c=new Error("An unknown error occurred.");for(let i=0;i<t.length;i++){const d=t[i],n=d.includes("{data}")?"GET":"POST",u="POST"===n?{data:o,sender:s}:void 0,f="POST"===n?{"Content-Type":"application/json"}:{};try{const a=yield fetch(d.replace("{sender}",s.toLowerCase()).replace("{data}",o),{body:JSON.stringify(u),headers:f,method:n});let r;if(r=a.headers.get("Content-Type")?.startsWith("application/json")?(yield a.json()).data:yield a.text(),!a.ok){c=new x.Ci({body:u,details:r?.error?(0,R.A)(r.error):a.statusText,headers:a.headers,status:a.status,url:d});continue}if(!(0,D.q)(r)){c=new S({result:r,url:d});continue}return r}catch(a){c=new x.Ci({body:u,details:a.message,url:d})}}throw c})).apply(this,arguments)}}}]);